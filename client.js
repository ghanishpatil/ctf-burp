(()=>{const d=document,f=d.getElementById("signal-form"),s=d.getElementById("status"),n=d.getElementById("signal-id"),ban=/[{}\[\]<>\$=]/,tok=/operator/i,r=()=>Math.random().toString(36).slice(-6);n.textContent=r()+"-"+r();const msg=a=>{s.textContent=a,setTimeout(()=>s.textContent="",3500);};f.addEventListener("submit",e=>{e.preventDefault();const data=new FormData(f),seen=new Set(),clean={};let bad="";data.forEach((val,key)=>{if(seen.has(key)){bad="Duplicate parameter detected.";return;}seen.add(key);clean[key]=val.trim();});if(bad)return msg(bad);const u=clean.user||"",m=clean.message||"";if(tok.test(u)||tok.test(m))return msg("Restricted token blocked.");if(ban.test(u)||ban.test(m))return msg("Illegal characters present.");f.user.value=u;f.message.value=m;msg("Signal dispatched.");setTimeout(()=>f.submit(),80);});})();*** End Patch

